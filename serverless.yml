service:
  name: cmc-api
#app: your-app-name
#tenant: your-tenant-name

# Add the serverless-webpack plugin
plugins:
  - serverless-webpack
  - serverless-offline
  - serverless-mocha-plugin

provider:
  name: aws
  runtime: nodejs10.x
  region: eu-west-2

functions:
  getListing:
    handler: handler.getListing
    events:
      - http:
          method: get
          path: listing/{unit}
          cors: true
          request:
            parameters:
              paths:
                unit: true
  getQuotes:
    handler: handler.getQuotes
    events:
      - http:
          method: get
          path: quotes/{symbol}/unit/{unit}
          cors: true
          request:
            parameters:
              paths:
                symbol: true
                unit: true
      - http:
          method: get
          path: quotes/{symbol}
          cors: true
          request:
            parameters:
              paths:
                symbol: true

